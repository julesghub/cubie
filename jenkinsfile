pipeline {
    agent {
        docker { 
          image 'ubuntu:latest'
          label 'slave'
        }
    }
    stages {
        stage('Build') {
            steps {
              sh 'sudo apt-get update -qq ; sudo apt-get install -yq make gcc'
              sh 'env'
              sh 'ls -lhtr'
              sh 'make'
              
                /*dir("./libUnderworld") {
                  sh 'python configure.py'
                  sh 'python compile.py'
                }*/
            }
        }
        stage('Go Up a Directory') {
          steps {
            dir("../") { sh 'ls -lhtr' }
          }
        }
        stage('Run') {
          steps {
            sh 'go -l 11 -d 6 -r 10 -i 5'
          }
        }
    }
}
